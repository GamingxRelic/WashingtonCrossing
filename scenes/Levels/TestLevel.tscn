[gd_scene load_steps=25 format=3 uid="uid://drpuvhuacvk05"]

[ext_resource type="Script" path="res://scripts/levels/TestLevel.gd" id="1_6rq6v"]
[ext_resource type="PackedScene" uid="uid://drraokf2pxhfo" path="res://scenes/player/Player.tscn" id="1_m1sox"]
[ext_resource type="Shader" path="res://shaders/ScrollingShader.gdshader" id="4_0t1ph"]
[ext_resource type="Texture2D" uid="uid://cv77bs5t8tq1j" path="res://assets/environment/ground/level1/clouds.png" id="4_7atl0"]
[ext_resource type="PackedScene" uid="uid://dm140gx4q1mau" path="res://scenes/enemy/Test_Dummy.tscn" id="4_ldho4"]
[ext_resource type="Texture2D" uid="uid://cskkk430mvcd5" path="res://assets/environment/ground/level1/stars.png" id="5_asi2l"]
[ext_resource type="Texture2D" uid="uid://cms6cp7f4k0l0" path="res://assets/environment/ground/level1/moon.png" id="5_siffi"]
[ext_resource type="PackedScene" uid="uid://cdkqxvgwmhe7f" path="res://scenes/npcs/SpeakingNPC.tscn" id="6_3hy3s"]
[ext_resource type="Texture2D" uid="uid://bh1h2gh35y07i" path="res://assets/environment/ground/level1/sky.png" id="6_tugnj"]
[ext_resource type="Texture2D" uid="uid://cf2imeo4ju3u6" path="res://assets/environment/ground/level1/back_snow.png" id="8_fyijo"]
[ext_resource type="Texture2D" uid="uid://cq72ue1w105rk" path="res://assets/environment/ground/level1/back_trees.png" id="8_xhpwu"]
[ext_resource type="Texture2D" uid="uid://dqyqxhtiospii" path="res://assets/environment/ground/level1/front_trees.png" id="9_jofvk"]
[ext_resource type="Texture2D" uid="uid://meeiy0i115dq" path="res://assets/environment/ground/level1/ground.png" id="10_j1vje"]
[ext_resource type="Shader" path="res://shaders/WaterShader.gdshader" id="13_n4jkv"]
[ext_resource type="Texture2D" uid="uid://dtjauspk7blkp" path="res://assets/environment/ground/level1/rocks.png" id="13_q0ofy"]

[sub_resource type="Animation" id="Animation_71kqe"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player:enable_player")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player/RemoteTransform2D:remote_path")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [NodePath("")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Camera2D:offset")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, -50)]
}

[sub_resource type="Animation" id="Animation_dgjel"]
resource_name = "intro_cutscene"
length = 3.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Player:enable_player")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Player/RemoteTransform2D:remote_path")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [NodePath(""), NodePath("../../Camera2D")]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Camera2D:offset")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(0.68302, 0.68302),
"update": 0,
"values": [Vector2(-300, -50), Vector2(0, -50)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_cahyt"]
_data = {
"RESET": SubResource("Animation_71kqe"),
"intro_cutscene": SubResource("Animation_dgjel")
}

[sub_resource type="ShaderMaterial" id="ShaderMaterial_an2pr"]
shader = ExtResource("4_0t1ph")
shader_parameter/motion = Vector2(10, 0)
shader_parameter/scale = 1.0
shader_parameter/offset = Vector2(300, 180)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_gxp1j"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_7e27c"]
noise = SubResource("FastNoiseLite_gxp1j")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_uhuen"]
fractal_type = 2
fractal_octaves = 4
fractal_lacunarity = 4.0
fractal_weighted_strength = 0.87
domain_warp_enabled = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_carat"]
generate_mipmaps = false
seamless = true
noise = SubResource("FastNoiseLite_uhuen")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i2wd3"]
shader = ExtResource("13_n4jkv")
shader_parameter/level = 0.275
shader_parameter/water_albedo = Color(0.45098, 0.658824, 0.976471, 1)
shader_parameter/water_opacity = 0.316
shader_parameter/water_speed = 0.02
shader_parameter/wave_distortion = 0.01
shader_parameter/wave_multiplyer = 7
shader_parameter/water_texture_on = false
shader_parameter/reflection_X_offset = 0.0
shader_parameter/reflection_Y_offset = 0.0
shader_parameter/noise_texture = SubResource("NoiseTexture2D_7e27c")
shader_parameter/noise_texture2 = SubResource("NoiseTexture2D_carat")

[node name="TestLevel" type="Node2D"]
script = ExtResource("1_6rq6v")

[node name="CutscenePlayer" type="AnimationPlayer" parent="."]
callback_mode_method = 1
libraries = {
"": SubResource("AnimationLibrary_cahyt")
}

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(100, 101)
offset = Vector2(0, -50)
zoom = Vector2(2, 2)
limit_left = -600
limit_right = 600

[node name="Player" parent="." instance=ExtResource("1_m1sox")]
position = Vector2(100, 101)

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Player"]

[node name="Test_Dummy" parent="." instance=ExtResource("4_ldho4")]
position = Vector2(608, 97)

[node name="Test_Dummy2" parent="." instance=ExtResource("4_ldho4")]
modulate = Color(1, 1, 1, 0)
position = Vector2(-602, 123)

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Sky"]
z_index = -20
texture = ExtResource("6_tugnj")

[node name="Stars" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.05, 0.05)
motion_offset = Vector2(0, 120)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Stars"]
z_index = -20
texture = ExtResource("5_asi2l")

[node name="Clouds" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.1, 0.1)
motion_offset = Vector2(150, 100)
motion_mirroring = Vector2(719, 0)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Clouds"]
texture_repeat = 2
material = SubResource("ShaderMaterial_an2pr")
texture = ExtResource("4_7atl0")

[node name="Moon" type="ParallaxLayer" parent="ParallaxBackground"]
position = Vector2(190, 37)
motion_scale = Vector2(0.05, 0.05)
motion_offset = Vector2(190, 70)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Moon"]
z_index = -20
texture = ExtResource("5_siffi")

[node name="BackTrees" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2(0.9, 0.9)
motion_offset = Vector2(0, 20)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/BackTrees"]
texture = ExtResource("8_xhpwu")

[node name="BackSnow" type="ParallaxLayer" parent="ParallaxBackground"]

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/BackSnow"]
texture = ExtResource("8_fyijo")

[node name="FrontTrees" type="ParallaxLayer" parent="ParallaxBackground"]
motion_offset = Vector2(0, 10)

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/FrontTrees"]
texture = ExtResource("9_jofvk")

[node name="Ground" type="ParallaxLayer" parent="ParallaxBackground"]

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground/Ground"]
texture = ExtResource("10_j1vje")

[node name="Water" type="ParallaxLayer" parent="ParallaxBackground"]

[node name="Water" type="ColorRect" parent="ParallaxBackground/Water"]
material = SubResource("ShaderMaterial_i2wd3")
offset_left = -600.0
offset_top = 130.0
offset_right = 600.0
offset_bottom = 190.0

[node name="Ground" type="StaticBody2D" parent="." groups=["ground"]]
z_index = -1

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Ground"]
position = Vector2(0, -27)
polygon = PackedVector2Array(-600, 151, -600, 180, 600, 180, 600, 120, 213, 120, 123, 151)

[node name="Decorations" type="Node2D" parent="."]

[node name="Rocks" type="Sprite2D" parent="Decorations"]
texture = ExtResource("13_q0ofy")

[node name="NPCs" type="Node2D" parent="."]

[node name="SpeakingNPC" parent="." instance=ExtResource("6_3hy3s")]
position = Vector2(24, 93)
dialog_options = ["Test One", "Test Two", "Three", "F", "GGG", "chickcene"]
